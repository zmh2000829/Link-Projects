<!DOCTYPE html>
<html>
<head>
	<title>国庆知识问答</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/index.css">
  <script type="text/javascript" src="./html2canvas.min.js"></script>
</head>
<body>
	<div id="content">
		<div id = "Home">
			<div id="back">
				<img id = "simg"src="img/red.png" style="width:100%">
			</div>
      <div id="num_txt">
        <textarea class="textarea" maxlength="10" rows="1" id="num_text"  style="font-size: 45px;background:transparent;width: 50%;border-style:none;"></textarea>
      </div>
      <div id="name_txt">
        <textarea class="textarea" maxlength="10" rows="1" id="name_text" style="font-size: 60px;background:transparent ;border-style:none;"></textarea>
      </div>
    </div>	
	</div>
<!--   <div id="result" style="position:absolute;z-index:4;width: 100%">
    <img id="res_img" src="" style="width:100%;height:100%;">
  </div -->>
    
</body>
 <script type="text/javascript">
    function onload(){
      var sen = "Home";  
      var width = document.documentElement.clientWidth;
      var height = document.documentElement.clientHeight;
      var ratio = width / height;
      if (ratio > (9 / 16)) {
        var bodywidth = height * 9 / 16;
        var margin = (width - bodywidth) / 2;
        document.getElementById(sen).style.height= height + 'px';
        document.getElementById(sen).style.width= bodywidth + 'px';
        document.getElementById(sen).style.marginLeft= margin + 'px';
        document.getElementById(sen).style.marginRight= margin + 'px';
      }else if(ratio < (9 / 16)){
        var bodyheight = width * 16 / 9;
        var margin = (height - bodyheight) / 2;
        document.getElementById(sen).style.height = bodyheight + 'px';
        document.getElementById(sen).style.width = width + 'px';
        document.getElementById(sen).style.marginTop = margin + 'px';
        document.getElementById(sen).style.marginBottom = margin + 'px';
      }else{
        document.getElementById(sen).style.height = height + 'px';
        document.getElementById(sen).style.width = width + 'px';
        document.getElementById(sen).style.marginTop = 0 + 'px';
        document.getElementById(sen).style.marginBottom = 0 + 'px';
      }
    }
  onload();
  choose();
  //htmltocanvas();

  function back(){
    sessionStorage.clear();
    window.location.href = "index.html";
  }

  function choose(){
    var score = window.sessionStorage.getItem('score');
    var name = window.sessionStorage.getItem('name');
    score += '分'；
    console.log(name)
    console.log(score)
    document.all.score_text.innerHTML = score ;
    document.all.name_text.innerHTML = name;
    document.getElementById('simg').src ="img/score/6_"+score.toString()+'.png'

  }
//   function htmltocanvas(){

//   html2canvas(document.getElementById('Home'),{scale:1,scrollY:0,scrollX:0,}).then(canvas =>{
//         document.getElementById('content').style.display =  'none';
//         var url = canvas.toDataURL('image/png');
//         console.log(url)
//         var final_img = document.getElementById("res_img");
//         final_img.src = url;
//         final_img.onload = function(){
//           alert('请长按保存图片，或点击右上角分享按钮分享至朋友圈');
//         }
// });

// }
  </script>
</html>